CREATE TABLE MembreRessourceHumaine (
	identif int NOT NULL AUTO_INCREMENT,
	nom varchar(255),
	prenom varchar(255),
	email varchar(255),
	nomUtilisateur varchar(255) NOT NULL,
	motDePasse varchar(255) NOT NULL,
	CONSTRAINT pk_MembreRessourceHumaine PRIMARY KEY (identif)
);

CREATE TABLE Personne (
	identif int NOT NULL AUTO_INCREMENT,
	nom varchar(255) NOT NULL,
	prenom varchar(255) NOT NULL,
	email varchar(255),
	dateDeNaissance DATE,
	transport text,
	noteRessourceHumaine text,
	identif_MembreRessourceHumaine int,
	identif_Region int,
	CONSTRAINT pk_Personne PRIMARY KEY (identif)
);

CREATE TABLE Reseau (
	identif int NOT NULL AUTO_INCREMENT,
	nom varchar(255) NOT NULL,
	CONSTRAINT pk_Reseau PRIMARY KEY (identif)
);

CREATE TABLE Competence (
	identif int NOT NULL AUTO_INCREMENT,
	libelle varchar(255) NOT NULL,
	CONSTRAINT pk_Competence PRIMARY KEY (identif)
);

CREATE TABLE Categorie (
	identif int NOT NULL AUTO_INCREMENT,
	libelle varchar(255) NOT NULL,
	CONSTRAINT pk_Categorie PRIMARY KEY (identif)
);

CREATE TABLE Entreprise (
	identif int NOT NULL AUTO_INCREMENT,
	nom varchar(255) NOT NULL,
	CONSTRAINT pk_Entreprise PRIMARY KEY (identif)
);

CREATE TABLE Formation (
	identif int NOT NULL AUTO_INCREMENT,
	nom varchar(255) NOT NULL,
	CONSTRAINT pk_Formation PRIMARY KEY (identif)
);

CREATE TABLE Region (
	identif int NOT NULL AUTO_INCREMENT,
	nom varchar(255) NOT NULL,
	CONSTRAINT pk_Region PRIMARY KEY (identif)
);

CREATE TABLE Personne_Reseau (
	identif_Personne int NOT NULL,
	identif_Reseau int NOT NULL,
	lien varchar(255) NOT NULL,
	CONSTRAINT pk_Personne_Reseau PRIMARY KEY (identif_Personne, identif_Reseau)
);

ALTER TABLE Personne_Reseau ADD CONSTRAINT fkPersonne_Reseau_Personne FOREIGN KEY (identif_Personne) REFERENCES Personne (identif);
ALTER TABLE Personne_Reseau ADD CONSTRAINT fkPersonne_Reseau_Reseau FOREIGN KEY (identif_Reseau) REFERENCES Reseau (identif);


CREATE TABLE Personne_Competence (
	identif_Personne int NOT NULL,
	identif_Competence int NOT NULL,
	CONSTRAINT pk_Personne_Competence PRIMARY KEY (identif_Personne, identif_Competence)
);

ALTER TABLE Personne_Competence ADD CONSTRAINT fkPersonne_Competence_Personne FOREIGN KEY (identif_Personne) REFERENCES Personne (identif);
ALTER TABLE Personne_Competence ADD CONSTRAINT fkPersonne_Competence_Competence FOREIGN KEY (identif_Competence) REFERENCES Competence (identif);



CREATE TABLE Competence_Categorie (
	identif_Competence int NOT NULL,
	identif_Categorie int NOT NULL,
	CONSTRAINT pk_Competence_Categorie PRIMARY KEY (identif_Categorie, identif_Competence)
);

ALTER TABLE Competence_Categorie ADD CONSTRAINT fkCompetence_Categorie_Competence FOREIGN KEY (identif_Competence) REFERENCES Competence (identif);
ALTER TABLE Competence_Categorie ADD CONSTRAINT fkCompetence_Categorie_Categorie FOREIGN KEY (identif_Categorie) REFERENCES Categorie (identif);



CREATE TABLE Personne_Entreprise (
	identif_Personne int NOT NULL,
	identif_Entreprise int NOT NULL,
	dateDeb date NOT NULL,
	dateFin date NOT NULL,
	CONSTRAINT pk_Personne_Entreprise PRIMARY KEY (identif_Personne, identif_Entreprise)
);

ALTER TABLE Personne_Entreprise ADD CONSTRAINT fkPersonne_Entreprise_Personne FOREIGN KEY (identif_Personne) REFERENCES Personne (identif);
ALTER TABLE Personne_Entreprise ADD CONSTRAINT fkPersonne_Entreprise_Entreprise FOREIGN KEY (identif_Entreprise) REFERENCES Entreprise (identif);



CREATE TABLE Personne_Formation (
	identif_Formation int NOT NULL,
	identif_Personne int NOT NULL,
	annee char(4),
	CONSTRAINT pk_Personne_Formation PRIMARY KEY (identif_Personne, identif_Formation)
);

ALTER TABLE Personne_Formation ADD CONSTRAINT fkPersonne_Formation_Personne FOREIGN KEY (identif_Personne) REFERENCES Personne (identif);
ALTER TABLE Personne_Formation ADD CONSTRAINT fkPersonne_Formation_Formation FOREIGN KEY (identif_Formation) REFERENCES Formation (identif);








INSERT INTO MembreRessourceHumaine (identif, nom, prenom, email, nomUtilisateur, motDePasse) VALUES (1, 'Martin', 'Paul', 'paul.martin@gmail.com', 'pmartin', '123');


INSERT INTO Region(nom) VALUES ('Alsace');
INSERT INTO Region(nom) VALUES ('Aquitaine');
INSERT INTO Region(nom) VALUES ('Auvergne');
INSERT INTO Region(nom) VALUES ('Basse Normandie');
INSERT INTO Region(nom) VALUES ('Bourgogne');
INSERT INTO Region(nom) VALUES ('Bretagne');
INSERT INTO Region(nom) VALUES ('Centre');
INSERT INTO Region(nom) VALUES ('Champagne Ardenne');
INSERT INTO Region(nom) VALUES ('Corse');
INSERT INTO Region(nom) VALUES ('Franche Comte');
INSERT INTO Region(nom) VALUES ('Haute Normandie');
INSERT INTO Region(nom) VALUES ('Ile de France');
INSERT INTO Region(nom) VALUES ('Languedoc Roussillon');
INSERT INTO Region(nom) VALUES ('Limousin');
INSERT INTO Region(nom) VALUES ('Lorraine');
INSERT INTO Region(nom) VALUES ('Midi-Pyrénées');
INSERT INTO Region(nom) VALUES ('Nord Pas de Calais');
INSERT INTO Region(nom) VALUES ('PACA');
INSERT INTO Region(nom) VALUES ('Pays de la Loire');
INSERT INTO Region(nom) VALUES ('Picardie');
INSERT INTO Region(nom) VALUES ('Poitou Charente');
INSERT INTO Region(nom) VALUES ('Rhone Alpes');

INSERT INTO Reseau(nom) VALUES ('Twitter');
INSERT INTO Reseau(nom) VALUES ('Facebook');
INSERT INTO Reseau(nom) VALUES ('Linkedin');
INSERT INTO Reseau(nom) VALUES ('Google+');
INSERT INTO Reseau(nom) VALUES ('Site web');

INSERT INTO Formation(nom) VALUES ('BTS SIO : SLAM');
INSERT INTO Formation(nom) VALUES ('BTS SIO : SISR');
